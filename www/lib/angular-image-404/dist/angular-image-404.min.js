angular.module("angular-image-404",[]).directive("image404",function(){return{restrict:"A",link:function(t,r,e){function a(){var t=e.image404;(i>=3||!t)&&(t=o()),r.attr("src",t),i++}function o(){var t=angular.element(r[0]).attr("max-width")||r[0].offsetWidth||120,a=angular.element(r[0]).attr("max-height")||r[0].offsetHeight||120,o=e.fbBgcolor?e.fbBgcolor.replace("#",""):"",i=e.fbColor?e.fbColor.replace("#",""):"",n=e.fbText||"",l="",f=window.location.href.split("://").shift();return f||(f="http"),l=f+"://dummyimage.com/"+t+"x"+a,o&&i&&(l+="/"+o+"/"+i),n&&(l+="&text="+n),l}var i=0;e.src||a(),r.on("error",a)}}});